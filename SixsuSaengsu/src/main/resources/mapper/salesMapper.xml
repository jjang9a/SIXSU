<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="co.sixsu.app.sales.mapper.SalesMapper">

	<!-- 모달창 사원 전체조회 -->
	<select id="empList"
		resultType='EmpVO'>
		select* from employee
	</select>
	<!--모달창 이름별 사원조회 -->
	<select id="emp1List"
		resultType='EmpVO'>
		select* from employee
		where emp_name = #{keyword}
	</select>
	
	<!-- 모달창 거래처 전체조회 -->
	<select id="busList"
		resultType='BusVO'>
		Select* from business	
	</select>
	
	<!-- 모달창 거래이름별 거래처별조회 -->
	<select id="bus1List"
		resultType='BusVO'>
		select* from business	
		where bus_name = #{keyword}
	</select>
	
	<!-- 자동으로 주문번호 등록 -->
	<select id='makeCode' 
		resultType = 'string'>
		select get_order_num() from dual
	</select>
	
	<!-- 일반페이지 상세 주문 등록 페이지 -->
	<select id='ordList'
	resultType='ordVO'>
	select d.ORD_DET_ID, d.ORD_QT, d.ORD_STAT_DET, d.CP_ID, c.CP_NAME ,S.ORD_ID, d.ORD_DET_PRICE, d.ORD_SALE_PRICE, d.ORD_END_DATE, c.CP_SIZE
	from SORDER s , DET_ORD d, COMPLETE_PROD c
	where s.ORD_ID = d.ORD_ID
	and c.CP_ID = d.CP_ID
	</select>
	
</mapper>